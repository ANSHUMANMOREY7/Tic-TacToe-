<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> tic tac toe </title>
    <style>
        * {
            padding: 0;
            margin: 0;
        }

        body {
            background-color: rgb(46, 7, 63);

        }

        .nav {
            background-color: rgb(30, 9, 39);
            padding: 15px;
            margin-bottom: 25px;
            position: sticky;
            top: 0;
            color: rgb(173, 73, 225);
        }

        #player-turn {
            position: absolute;
            color: rgb(173, 73, 225);
            right: 150px;
            top: 235px;
            background-color: rgb(173, 73, 225);
            padding: 10px;
            border-radius: 10px;
            color: black;
            height: 90px;


        }

        .turn-icon {
            border: 10px solid rgb(107, 32, 148);
            height: 70px;
            width: 70px;
            border-radius: 5px;
            background-color: rgb(107, 32, 148);


        }

        .turn-text {
            position: relative;
            top: -33px;
            font-size: 35px;
            font-weight: bold;
            margin-left: 5px;
            padding: 10px;


        }

        .board {
            display: flex;
            border: px solid;
            flex-wrap: wrap;
            width: 400px;
            padding: 60px 40px;
            margin: 0 auto;
            border-radius: 30px;
            justify-content: center;
            background-color: rgb(173, 73, 225);
        }

        .cell {
            display: flex;
            justify-content: center;
            align-items: center;
            border: px solid rgb(188, 82, 192);
            height: 115px;
            width: 115px;
            border-radius: 5px;
            background-color: rgb(122, 28, 172);
            margin: 2px;
            transition: 30ms;
        }

        .cell:hover {
            cursor: pointer;
            box-shadow: 0 0 6px 0.8px black;
            transition: 10ms;
            border: 0px solid rgb(147, 62, 150);

        }

        .btn {
            position: absolute;
            right: 170px;
            top: 360px;
            height: 60px;
            width: 170px;
            text-align: center;
            font-size: 24px;
            font-weight: 800;
            border: 2px solid rgb(173, 73, 225);
            border-radius: 10px;
            cursor: pointer;
            background-color: rgb(173, 73, 225);
            transition: 30ms;

        }

        .btn:hover {
            cursor: pointer;
            box-shadow: 0 0 6px 0.8px black;

            border: 0px solid rgb(183, 79, 187);
            background-color: rgb(122, 28, 172);
        }

        .player1 {
            background-color: rgb(107, 32, 148);
        }

        .player2 {
            background-color: rgb(107, 32, 148);
        }

        img {
            width: 90px;
            height: 90px;

        }
    </style>
</head>

<body>

    <div class="nav">
        <h1>TicTacToe.com</h1>
    </div>
    <h2 id="player-turn"><img src="circle.png"><span class="turn-text">Turn</span> </h2>
    <div class="board" id="board">

        <div class="cell"></div>
        <div class="cell"></div>
        <div class="cell"></div>
        <div class="cell"></div>
        <div class="cell"></div>
        <div class="cell"></div>
        <div class="cell"></div>
        <div class="cell"></div>
        <div class="cell"></div>
    </div>

    <button class="btn" onclick="restart()">RESTART</button>



    <script>

        const board = [-1, -1, -1, -1, -1, -1, -1, -1, -1];
        turn = 1;
        let iconElement = {
            1: "player1",
            2: "player2",
        };

        let imgElement = {
            1: "circle.png ",
            2: "cross.png",
        }

        let turnImg = {
            1: "circle.png",
            2: "cross.png",
        }

        function renderBoard() {

            const boardElement = document.getElementById("board")
            const turnElement = document.getElementById("player-turn")
            turnElement.innerHTML = `
         <h2>  <img class="turn-icon" src="${turnImg[turn]}"><span class="turn-text">Turn</span> </h2>
        `;

            boardElement.innerHTML = "";

            board.forEach((cellElement, index) => {

                const cellPlayerImg = imgElement[cellElement];
                const renderimage = cellPlayerImg ? `<img src = "${imgElement[cellElement]}"/> ` : "";


                boardElement.innerHTML += `
              <div class="cell ${iconElement[cellElement]} " onclick="renderTurn(${index})">  ${renderimage}  </div>
            `
            });

            winnerCheck(); 
        }
        renderBoard();

        function renderTurn(indexElement) {

            if (board[indexElement] == -1) {
                board[indexElement] = turn;
                turn = turn == 1 ? 2 : 1;
                renderBoard();
            } else {
                alert('invalid move')
            }

        }
        function winnerCheck() {
            
            const player_1= 1;
            const player_2= 2;

            if(winnCheckPosition( player_1 , 0 , 1 , 2)){
               alert(" o wins ")
               
            }else if(winnCheckPosition(player_2, 0 , 1 ,2 )){
               alert("X wins")
            }
             if(winnCheckPosition( player_1 , 3 , 4 , 5)){
               alert(" o wins ")
               
            }else if(winnCheckPosition(player_2, 3 , 4 ,5 )){
               alert("X wins")
            }
             if(winnCheckPosition( player_1 , 6 ,  7, 8)){
               alert(" o wins ")
               
            }else if(winnCheckPosition(player_2, 6 , 7 ,8 )){
               alert("X wins")
            }
              if(winnCheckPosition( player_1 , 0 ,  4, 8)){
               alert(" o wins ")
               
            }else if(winnCheckPosition(player_2, 0 , 4 ,8 )){
               alert("X wins")
            }
              if(winnCheckPosition( player_1 , 2 ,  4, 6)){
               alert(" o wins ")
               
            }else if(winnCheckPosition(player_2, 2 , 4 ,6 )){
               alert("X wins")
            }
              if(winnCheckPosition( player_1 , 0 ,  3, 6)){
               alert(" o wins ")
               
            }else if(winnCheckPosition(player_2, 0 , 3 ,6 )){
               alert("X wins")
            }
              if(winnCheckPosition( player_1 , 1 ,  4, 7)){
               alert(" o wins ")
               
            }else if(winnCheckPosition(player_2, 1 , 4 ,7 )){
               alert("X wins")
            }
              if(winnCheckPosition( player_1 , 6 ,  7, 8)){
               alert(" o wins ")
               
            }else if(winnCheckPosition(player_2, 6 , 7 ,8 )){
               alert("X wins")
            }
              if(winnCheckPosition( player_1 , 2 ,  5, 8)){
               alert(" o wins ")
               
            }else if(winnCheckPosition(player_2, 2 , 5 ,8 )){
               alert("X wins")
            }
           

        }
        function winnCheckPosition(player , p1 ,p2 ,p3 ) {
            
            if (board[p1]==player && board[p2]==player && board[p3]==player ) {
                return true
            }else{
                return false
            }
        }

        function restart() {

            location.reload();

        }



    </script>

</body>

</html>